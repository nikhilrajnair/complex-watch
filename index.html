<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Angular Material style sheet -->
    <!-- <link rel="stylesheet" href="bower_components/angular-material/angular-material.css"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="stylesheets/screen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
</head>

<body onload="showRandomImage()">
    <!-- <h1 class="the-time">
    <span class="the-hour"></span>:
    <span class="the-minute"></span>:
    <span class="the-second"></span>
</h1> -->

<div id='tlg' class='grip'></div>
  <div id='trg' class='grip'></div>
  <div id='blg' class='grip'></div>
  <div id='brg' class='grip'></div>
  <div class="time-wheel"></div>
  <div id='topBand' class='band-1'></div>

  <!-- <div id='botBand' class='band-1'></div> -->
    <div class="watch">
        <div class="band"></div>
        <div class="frame">
        	<div class="inner-border"></div>
            <div class="numbers">
                <div class="clock">
                    <div class="diallines"></div>
                </div>
            </div>
            <div class="day">
                <span>24</span>
            </div>
            <div class="inner-frame">                
                <span>M</span>
                <span>T</span>
                <span>W</span>
                <span>T</span>
                <span>F</span>
                <span>S</span>
                <span>S</span>
                <div class="days"></div>
            </div>
            <div class="battery">
                <div class="inner">                    
                    <img id="myimage" />
                    <div class="second-1"></div>
                </div>
            </div>
            <div class="hand">
                <div class="hour"></div>
                <div class="minute"></div>
                <div class="second"></div>
            </div>
            
            
        </div>
    </div>
    <button class="js-geolocation" style="display: none;">Use Your Location</button>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.1.0/moment.min.js"></script>
    <script src="https://cdn.rawgit.com/monkeecreate/jquery.simpleWeather/master/jquery.simpleWeather.min.js"></script>
    <!-- <div class="clock">
        <div class="diallines"></div>
    </div> -->
    <script type="text/javascript">
    var dialLines = document.getElementsByClassName('diallines');
    var clockEl = document.getElementsByClassName('clock')[0];

    for (var i = 1; i < 60; i++) {
        clockEl.innerHTML += "<div class='diallines'></div>";
        dialLines[i].style.transform = "rotate(" + 6 * i + "deg)";
    }
    </script>
    <script type="text/javascript">
    $(document).ready(function() {

        updateClock();
        setInterval('updateClock()', 250);

    });

    function updateClock() {

        var cur_time = new Date();
        var cur_s = cur_time.getSeconds();
        var cur_m = cur_time.getMinutes();
        var cur_h = cur_time.getHours();
        var cur_d = cur_time.getYear();

        // console.log(cur_time);
        var s_deg = 6 * cur_s;
        var m_deg = 6 * cur_m;
        var h_deg = (cur_m / 60 + cur_h) * 30;

        // var days = 

        var weeknumber = moment(cur_time).week() * 25;

        // var weeknumber = 1 * 25;


    	// console.log(weeknumber);

        $('.the-hour').text(checkTime(cur_h));
        $('.the-minute').text(checkTime(cur_m));
        $('.the-second').text(checkTime(cur_s));
        // $('.day span').text(cur_d);

        $('.day span').html(moment().format('D MMM'));

        $('.second').css({ 'transform': 'rotate(' + s_deg + 'deg)' });
        $('.minute').css({ 'transform': 'rotate(' + m_deg + 'deg)' });
        $('.hour').css({ 'transform': 'rotate(' + h_deg + 'deg)' });
        $('.second-1').css({ 'transform': 'rotate(' + h_deg + 'deg)' });

        $('.days').css({ 'transform': 'rotate(' + weeknumber  + 'deg)' });
    }

    function checkTime(i) {
        // add zero in front of numbers < 10
        if (i < 10) {
            i = "0" + i;
        }

        return i;
    }
    </script>
    <script type="text/javascript">
    // Docs at http://simpleweatherjs.com

    /* Does your browser support geolocation? */
    if ("geolocation" in navigator) {
        $('.js-geolocation').show();
    } else {
        $('.js-geolocation').hide();
    }

    /* Where in the world are you? */
    $('.js-geolocation').on('click', function() {
        navigator.geolocation.getCurrentPosition(function(position) {
            loadWeather(position.coords.latitude + ',' + position.coords.longitude); //load weather using your lat/lng coordinates
        });
    });

    /* 
     * Test Locations
     * Austin lat/long: 30.2676,-97.74298
     * Austin WOEID: 2357536
     */
    $(document).ready(function() {
        loadWeather('Seattle', ''); //@params location, woeid
    });

    function loadWeather(location, woeid) {
        $.simpleWeather({
            location: location,
            woeid: woeid,
            unit: 'f',
            success: function(weather) {
                html = '<h2><i class="icon-' + weather.code + '"></i> ' + weather.temp + '&deg;' + weather.units.temp + '</h2>';
                // html += '<ul><li>' + weather.city + ', ' + weather.region + '</li>';
                // html += '<li class="currently">' + weather.currently + '</li>';
                // html += '<li>' + weather.alt.temp + '&deg;C</li></ul>';

                $("#weather").html(html);
            },
            error: function(error) {
                $("#weather").html('<p>' + error + '</p>');
            }
        });
    }
    </script>
    <script type="text/javascript">
    function showRandomImage() {
        var theImage = document.getElementById('myimage');
        var thePath = 'images/';

        var thePictures = new Array();
        thePictures[0] = '1.png';
        thePictures[1] = '2.png';
        thePictures[2] = '3.png';
        thePictures[3] = '1.png';
        thePictures[4] = '2.png ';
        thePictures[5] = '3.png';
        thePictures[6] = '1.png';
        thePictures[7] = '2.png';
        thePictures[8] = '5.png';
        thePictures[9] = '5.png';
        thePictures[10] = '5.png';
        thePictures[11] = '6.png';
        thePictures[12] = '6.png';
        thePictures[13] = '6.png';
        thePictures[14] = '7.png';
        thePictures[15] = '7.png';
        thePictures[16] = '7.png';
        thePictures[17] = '8.png';
        thePictures[18] = '9.png';
        thePictures[19] = '10.png';
        thePictures[20] = '12.png';
        thePictures[21] = '12.png';
        thePictures[22] = '12.png';
        thePictures[23] = '12.png';


        var theTime = new Date();
        var theHour = theTime.getHours();
        var imagePath = thePath + thePictures[theHour];


        theImage.src = imagePath;
        theImage.alt = thePictures[theHour];
        theImage.title = thePictures[theHour];
    }
    </script>